{
  "version": 3,
  "sources": ["../../../../../src/experimental/wallet/channel/events.ts"],
  "sourcesContent": ["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { InferOutput } from 'valibot';\nimport {\n\tany,\n\tarray,\n\tliteral,\n\tobject,\n\toptional,\n\tpipe,\n\trecord,\n\tstring,\n\turl,\n\tuuid,\n\tvariant,\n} from 'valibot';\n\nexport const StashedRequestData = variant('type', [\n\tobject({\n\t\ttype: literal('connect'),\n\t}),\n\tobject({\n\t\ttype: literal('sign-transaction'),\n\t\ttransaction: string('`transaction` is required'),\n\t\taddress: string('`address` is required'),\n\t\tchain: string('`chain` is required'),\n\t\tsession: string('`session` is required'),\n\t}),\n\tobject({\n\t\ttype: literal('sign-and-execute-transaction'),\n\t\ttransaction: string('`transaction` is required'),\n\t\taddress: string('`address` is required'),\n\t\tchain: string('`chain` is required'),\n\t\tsession: string('`session` is required'),\n\t}),\n\tobject({\n\t\ttype: literal('sign-personal-message'),\n\t\tchain: optional(string('`chain` is required')),\n\t\tmessage: string('`message` is required'),\n\t\taddress: string('`address` is required'),\n\t\tsession: string('`session` is required'),\n\t}),\n]);\nexport type StashedRequestData = InferOutput<typeof StashedRequestData>;\n\nexport const StashedRequest = object({\n\tversion: literal('v1'),\n\trequestId: pipe(string('`requestId` is required'), uuid()),\n\tappUrl: pipe(string(), url('`appUrl` must be a valid URL')),\n\tappName: string('`appName` is required'),\n\tpayload: StashedRequestData,\n\tmetadata: optional(record(string(), any())),\n});\n\nexport type StashedRequest = InferOutput<typeof StashedRequest>;\n\nexport const StashedResponseData = variant('type', [\n\tobject({\n\t\ttype: literal('connect'),\n\t\taccounts: array(\n\t\t\tobject({\n\t\t\t\taddress: string('`address` is required'),\n\t\t\t\tpublicKey: optional(string('`publicKey` must be a string')),\n\t\t\t}),\n\t\t),\n\t\tsession: string('`session` is required'),\n\t}),\n\tobject({\n\t\ttype: literal('sign-transaction'),\n\t\tbytes: string(),\n\t\tsignature: string(),\n\t}),\n\tobject({\n\t\ttype: literal('sign-and-execute-transaction'),\n\t\tbytes: string(),\n\t\tsignature: string(),\n\t\tdigest: string(),\n\t\teffects: optional(string()),\n\t}),\n\tobject({\n\t\ttype: literal('sign-personal-message'),\n\t\tbytes: string(),\n\t\tsignature: string(),\n\t}),\n]);\nexport type StashedResponseData = InferOutput<typeof StashedResponseData>;\n\nexport const StashedResponsePayload = variant('type', [\n\tobject({\n\t\ttype: literal('reject'),\n\t\treason: optional(string('`reason` must be a string')),\n\t}),\n\tobject({\n\t\ttype: literal('resolve'),\n\t\tdata: StashedResponseData,\n\t}),\n]);\nexport type StashedResponsePayload = InferOutput<typeof StashedResponsePayload>;\n\nexport const StashedResponse = object({\n\tid: pipe(string(), uuid()),\n\tsource: literal('stashed-channel'),\n\tpayload: StashedResponsePayload,\n\tversion: literal('v1'),\n});\nexport type StashedResponse = InferOutput<typeof StashedResponse>;\n\nexport type StashedRequestTypes = Record<string, any> & {\n\t[P in StashedRequestData as P['type']]: P;\n};\n\nexport type StashedResponseTypes = {\n\t[P in StashedResponseData as P['type']]: P;\n};\n"],
  "mappings": "AAIA;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AAEA,MAAM,qBAAqB,QAAQ,QAAQ;AAAA,EACjD,OAAO;AAAA,IACN,MAAM,QAAQ,SAAS;AAAA,EACxB,CAAC;AAAA,EACD,OAAO;AAAA,IACN,MAAM,QAAQ,kBAAkB;AAAA,IAChC,aAAa,OAAO,2BAA2B;AAAA,IAC/C,SAAS,OAAO,uBAAuB;AAAA,IACvC,OAAO,OAAO,qBAAqB;AAAA,IACnC,SAAS,OAAO,uBAAuB;AAAA,EACxC,CAAC;AAAA,EACD,OAAO;AAAA,IACN,MAAM,QAAQ,8BAA8B;AAAA,IAC5C,aAAa,OAAO,2BAA2B;AAAA,IAC/C,SAAS,OAAO,uBAAuB;AAAA,IACvC,OAAO,OAAO,qBAAqB;AAAA,IACnC,SAAS,OAAO,uBAAuB;AAAA,EACxC,CAAC;AAAA,EACD,OAAO;AAAA,IACN,MAAM,QAAQ,uBAAuB;AAAA,IACrC,OAAO,SAAS,OAAO,qBAAqB,CAAC;AAAA,IAC7C,SAAS,OAAO,uBAAuB;AAAA,IACvC,SAAS,OAAO,uBAAuB;AAAA,IACvC,SAAS,OAAO,uBAAuB;AAAA,EACxC,CAAC;AACF,CAAC;AAGM,MAAM,iBAAiB,OAAO;AAAA,EACpC,SAAS,QAAQ,IAAI;AAAA,EACrB,WAAW,KAAK,OAAO,yBAAyB,GAAG,KAAK,CAAC;AAAA,EACzD,QAAQ,KAAK,OAAO,GAAG,IAAI,8BAA8B,CAAC;AAAA,EAC1D,SAAS,OAAO,uBAAuB;AAAA,EACvC,SAAS;AAAA,EACT,UAAU,SAAS,OAAO,OAAO,GAAG,IAAI,CAAC,CAAC;AAC3C,CAAC;AAIM,MAAM,sBAAsB,QAAQ,QAAQ;AAAA,EAClD,OAAO;AAAA,IACN,MAAM,QAAQ,SAAS;AAAA,IACvB,UAAU;AAAA,MACT,OAAO;AAAA,QACN,SAAS,OAAO,uBAAuB;AAAA,QACvC,WAAW,SAAS,OAAO,8BAA8B,CAAC;AAAA,MAC3D,CAAC;AAAA,IACF;AAAA,IACA,SAAS,OAAO,uBAAuB;AAAA,EACxC,CAAC;AAAA,EACD,OAAO;AAAA,IACN,MAAM,QAAQ,kBAAkB;AAAA,IAChC,OAAO,OAAO;AAAA,IACd,WAAW,OAAO;AAAA,EACnB,CAAC;AAAA,EACD,OAAO;AAAA,IACN,MAAM,QAAQ,8BAA8B;AAAA,IAC5C,OAAO,OAAO;AAAA,IACd,WAAW,OAAO;AAAA,IAClB,QAAQ,OAAO;AAAA,IACf,SAAS,SAAS,OAAO,CAAC;AAAA,EAC3B,CAAC;AAAA,EACD,OAAO;AAAA,IACN,MAAM,QAAQ,uBAAuB;AAAA,IACrC,OAAO,OAAO;AAAA,IACd,WAAW,OAAO;AAAA,EACnB,CAAC;AACF,CAAC;AAGM,MAAM,yBAAyB,QAAQ,QAAQ;AAAA,EACrD,OAAO;AAAA,IACN,MAAM,QAAQ,QAAQ;AAAA,IACtB,QAAQ,SAAS,OAAO,2BAA2B,CAAC;AAAA,EACrD,CAAC;AAAA,EACD,OAAO;AAAA,IACN,MAAM,QAAQ,SAAS;AAAA,IACvB,MAAM;AAAA,EACP,CAAC;AACF,CAAC;AAGM,MAAM,kBAAkB,OAAO;AAAA,EACrC,IAAI,KAAK,OAAO,GAAG,KAAK,CAAC;AAAA,EACzB,QAAQ,QAAQ,iBAAiB;AAAA,EACjC,SAAS;AAAA,EACT,SAAS,QAAQ,IAAI;AACtB,CAAC;",
  "names": []
}
