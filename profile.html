<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Suai Profile</title>
  <link rel="stylesheet" href="profile.css">
</head>

<body>
  <!-- 連接 Sui 錢包 -->
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>

  <!-- 顯示連結的錢包帳戶 
  <div id="connected-wallet" class="wallet-info">
    Connected-Wallet: <span id="wallet-address">Not connected</span>
  </div>
  -->

  <!-- 上傳紀錄 -->
  <section class="upload-history">
    <h2>Upload History</h2>
    <ul id="history-list">
      <!-- 歷史紀錄將顯示在這裡 -->
    </ul>
    <button id="show-all" class="hidden">Full upload history</button>
  </section>

  <!-- 上傳區塊 -->
  <div class="upload-section">
    <div class="upload-trigger">
      <div class="upload-header">Upload Your Codes</div>
    </div>  
    
    <form id="upload-form" class="hidden">
      <!-- 錢包地址欄位 -->
      <div class="form-group required">
        <label for="wallet">Wallet Address</label>
        <span id="wallet-display">Not connected</span>
      </div>

      <!-- 必填欄位 -->
      <div class="form-group required">
        <label for="contract-address">Sui Address of the Contract</label>
        <input type="text" id="contract-address" placeholder="Enter contract address" required>
      </div>

      <div class="form-group required">
        <label for="project-name">Project Name</label>
        <input type="text" id="project-name" placeholder="Enter project name" required>
      </div>
    
      <div class="form-group required">
        <label for="contract-description">Contract Description</label>
        <textarea id="contract-description" placeholder="Enter contract description" rows="3" required></textarea>
      </div>

      <div class="form-group required">
        <label for="code-snippet">Move Contract Codes</label>
        <textarea 
          id="code-snippet" 
          placeholder="Enter code snippet" 
          rows="10"
          required
        ></textarea>
        <div class="code-stats">
          Effective lines of code: <span id="effective-lines">0</span>
          <span class="hint">(Excludes empty lines, comments, and symbol-only lines)</span>
        </div>
      </div>
   
      <!-- 確定上傳按鈕 -->
      <button type="button" onclick="submitForm()" id="submit-btn">Submit</button>
    
      <!-- 授權條款 -->
      <div class="terms-section">
        <p id="terms-summary" onclick="toggleTerms()">By uploading, you agree to the terms ▼</p>
        <div id="terms-content" class="hidden">
          <p>Terms: Uploaded code will be stored and analyzed. Please ensure you have the legal rights to the code.</p>
        </div>
      </div>


    </form>
  </div>

  <div id="message-box" class="message-box"></div>
  <script type="module" src="profile.js"></script>
</body>
</html>